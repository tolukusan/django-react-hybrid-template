# Django + React Hybrid Template

A modern, integrated web application template using **Django** for the backend/hosting and **React (Vite)** for the interactive frontend.

## üèó Architecture Overview

This project uses the **Integrated (Hybrid)** approach:

- **Django** acts as the primary server and handles routing, authentication, and SEO.
- **Vite** manages the frontend assets (React, Tailwind CSS) and compiles them into Django's static files.
- **Django-Vite** bridge provides Hot Module Replacement (HMR) during development.

---

## üöÄ Getting Started

### Prerequisites

- [uv](https://github.com/astral-sh/uv) (Python package manager)
- [Node.js & npm](https://nodejs.org/)

### 1. Backend Setup (Django)

```bash
# Install Python dependencies
uv sync

# Run migrations
uv run manage.py migrate

# Start Django server
uv run manage.py runserver

```

### 2. Frontend Setup (React + Vite)

In a new terminal:

```bash
# Install JS dependencies
npm install

# Start Vite development server (HMR)
npm run dev

```

The app will be available at `http://127.0.0.1:8000/`.

---

## üõ† Development vs Production

### Development Mode

- Set `dev_mode: True` in `settings.py` (inside the `DJANGO_VITE` config).
- Keep **both** `uv run manage.py runserver` and `npm run dev` running.
- **Benefit:** Instant browser updates when you save React or CSS files.

### Production Mode

To run the app as a single unit without the Vite dev server:

1. **Build the assets:**

```bash
npm run build

```

2. **Switch Django to Production:**
   In `settings.py`, set `"dev_mode": False` within the `DJANGO_VITE` dictionary.
3. **Collect Static Files:**

```bash
uv run manage.py collectstatic

```

4. **Run Server:**
   Only `uv run manage.py runserver` is required now.

---

## üìÅ Project Structure

- `/my_site`: Django project configuration and settings.
- `/assets`: Source React components and CSS (Tailwind).
- `/templates`: Django HTML templates (where React is injected).
- `/staticfiles`: Compiled production assets (generated by Vite).
- `vite.config.js`: Configuration for asset bundling and manifest generation.

---

## ‚ö†Ô∏è Common Troubleshooting

### DjangoViteAssetNotFoundError

If Django cannot find your assets in production mode:

1. Check `staticfiles/manifest.json`.
2. Ensure the path in your `{% vite_asset '...' %}` tag exactly matches the **key** in the manifest.
3. Verify that `npm run build` completed successfully.

### Command Chaining

To start everything quickly in development (on Bash/Zsh):

```bash
# Run migrations and start server only if migrations succeed
uv run manage.py migrate && uv run manage.py runserver

```
